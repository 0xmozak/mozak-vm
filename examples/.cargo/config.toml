[unstable]
build-std = ["alloc", "core", "compiler_builtins", "std", "panic_abort", "proc_macro"]
build-std-features = ["compiler-builtins-mem"]

[build]
########   LINKER SCRIPT ###########
# Uncomment the following to compile WITHOU any linker script
# rustflags = ["-C", "passes=loweratomic", "-Zlocation-detail=none"]

# Uncomment the following to compile WITH    linker script
rustflags = ["-C", "passes=loweratomic", "-Zlocation-detail=none", "-Clink-arg=-T./.cargo/riscv32im-mozak-zkvm.ld"]
# rustflags = ["-C", "passes=loweratomic", "-Zlocation-detail=none", "-Clink-arg=-T./.cargo/link.ld"]
########   LINKER SCRIPT ###########

target = "./.cargo/riscv32im-mozak-zkvm-elf.json"

[target.riscv32im-mozak-zkvm-elf]
runner = "../target/release/mozak-cli -vvv run"
