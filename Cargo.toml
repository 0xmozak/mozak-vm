# Project structuring (for node)
# ---------------------------
# The workspace deals with crates for different compilation
# targets, two in particular: `mozak` for zk-platform mozak and `native`.
# `native` targets are supposed to be built for dev machines'
# specifications e.g. `x86_64-unknown-linux-gnu` or `aarch64-apple-darwin`.
# `mozak` targets are supposed to be built with
# `buildtarget/riscv32im-mozak-zkvm-elf.json` or originally:
# https://github.com/0xmozak/mozak-vm/blob/main/examples/.cargo/riscv32im-mozak-zkvm-elf.json
#
# The `members` described below list only crates with `native` target
# The `exclude` described below list only crates with `mozak` target
#
# Crates that target `mozak` while live in the same repository, do not form
# the part of this workspace

[workspace]
exclude = ["sdk"]
members = ["cli", "runner", "circuits", "node-cli", "node", "rpc", "state", "circuits3"]
resolver = "2"

[profile.dev]
# We are running our tests with optimizations turned on to make them faster.
# Plase turn optimizations off, when you want accurate stack traces for debugging.
lto = "thin"
opt-level = 3

[profile.release]
lto = "fat"

[profile.bench]
lto = "thin"

[patch.crates-io]
plonky2 = { git = "https://github.com/0xmozak/plonky2.git" }
starky = { git = "https://github.com/0xmozak/plonky2.git" }
